[{"/Users/rezanceva96/movies-explorer-frontend/src/index.js":"1","/Users/rezanceva96/movies-explorer-frontend/src/reportWebVitals.js":"2","/Users/rezanceva96/movies-explorer-frontend/src/components/App/App.js":"3","/Users/rezanceva96/movies-explorer-frontend/src/components/Header/Header.js":"4","/Users/rezanceva96/movies-explorer-frontend/src/components/Footer/Footer.js":"5","/Users/rezanceva96/movies-explorer-frontend/src/components/Promo/Promo.js":"6","/Users/rezanceva96/movies-explorer-frontend/src/components/NavTab/NavTab.js":"7","/Users/rezanceva96/movies-explorer-frontend/src/components/AboutProject/AboutProject.js":"8","/Users/rezanceva96/movies-explorer-frontend/src/components/Techs/Techs.js":"9","/Users/rezanceva96/movies-explorer-frontend/src/components/AboutMe/AboutMe.js":"10","/Users/rezanceva96/movies-explorer-frontend/src/components/Portfolio/Portfolio.js":"11","/Users/rezanceva96/movies-explorer-frontend/src/components/SigninButton/SigninButton.js":"12","/Users/rezanceva96/movies-explorer-frontend/src/components/Navigation/Navigation.js":"13","/Users/rezanceva96/movies-explorer-frontend/src/components/Movies/Movies.js":"14","/Users/rezanceva96/movies-explorer-frontend/src/components/SearchForm/SearchForm.js":"15","/Users/rezanceva96/movies-explorer-frontend/src/components/MoviesCardList/MoviesCardList.js":"16","/Users/rezanceva96/movies-explorer-frontend/src/components/MoviesCard/MoviesCard.js":"17","/Users/rezanceva96/movies-explorer-frontend/src/components/HeaderPopup/HeaderPopup.js":"18","/Users/rezanceva96/movies-explorer-frontend/src/components/Preloader/Preloader.js":"19","/Users/rezanceva96/movies-explorer-frontend/src/components/SavedMovies/SavedMovies.js":"20","/Users/rezanceva96/movies-explorer-frontend/src/components/NotFound/NotFound.js":"21","/Users/rezanceva96/movies-explorer-frontend/src/components/Profile/Profile.js":"22","/Users/rezanceva96/movies-explorer-frontend/src/components/Login/Login.js":"23","/Users/rezanceva96/movies-explorer-frontend/src/components/Register/Register.js":"24","/Users/rezanceva96/movies-explorer-frontend/src/components/Main/Main.js":"25","/Users/rezanceva96/movies-explorer-frontend/src/components/MainTitle/MainTitle.js":"26","/Users/rezanceva96/movies-explorer-frontend/src/utils/MoviesApi.js":"27","/Users/rezanceva96/movies-explorer-frontend/src/contexts/CurrentUserContext.js":"28","/Users/rezanceva96/movies-explorer-frontend/src/utils/formValidation.js":"29","/Users/rezanceva96/movies-explorer-frontend/src/utils/MainApi.js":"30","/Users/rezanceva96/movies-explorer-frontend/src/components/InfoTooLtip/InfoTooltip.js":"31","/Users/rezanceva96/movies-explorer-frontend/src/components/ProtectedRoute/ProtectedRoute.js":"32","/Users/rezanceva96/movies-explorer-frontend/src/hooks/ScreenSize.js":"33"},{"size":611,"mtime":1652202192361,"results":"34","hashOfConfig":"35"},{"size":362,"mtime":1645890719832,"results":"36","hashOfConfig":"35"},{"size":15612,"mtime":1652542198463,"results":"37","hashOfConfig":"35"},{"size":326,"mtime":1652207912429,"results":"38","hashOfConfig":"35"},{"size":1026,"mtime":1645890719798,"results":"39","hashOfConfig":"35"},{"size":395,"mtime":1651259626082,"results":"40","hashOfConfig":"35"},{"size":531,"mtime":1645890719805,"results":"41","hashOfConfig":"35"},{"size":2412,"mtime":1645890719796,"results":"42","hashOfConfig":"35"},{"size":1329,"mtime":1645890719811,"results":"43","hashOfConfig":"35"},{"size":1876,"mtime":1652041210586,"results":"44","hashOfConfig":"35"},{"size":1181,"mtime":1651259610879,"results":"45","hashOfConfig":"35"},{"size":402,"mtime":1645890719811,"results":"46","hashOfConfig":"35"},{"size":1030,"mtime":1652211397224,"results":"47","hashOfConfig":"35"},{"size":3478,"mtime":1652299310089,"results":"48","hashOfConfig":"35"},{"size":3570,"mtime":1652041784304,"results":"49","hashOfConfig":"35"},{"size":2420,"mtime":1652477433778,"results":"50","hashOfConfig":"35"},{"size":2285,"mtime":1652388850163,"results":"51","hashOfConfig":"35"},{"size":1159,"mtime":1652207906681,"results":"52","hashOfConfig":"35"},{"size":306,"mtime":1646325970656,"results":"53","hashOfConfig":"35"},{"size":3786,"mtime":1652532892970,"results":"54","hashOfConfig":"35"},{"size":615,"mtime":1651588722279,"results":"55","hashOfConfig":"35"},{"size":3016,"mtime":1652388090085,"results":"56","hashOfConfig":"35"},{"size":2696,"mtime":1652479572599,"results":"57","hashOfConfig":"35"},{"size":3486,"mtime":1652479571510,"results":"58","hashOfConfig":"35"},{"size":663,"mtime":1651259500778,"results":"59","hashOfConfig":"35"},{"size":259,"mtime":1645890719802,"results":"60","hashOfConfig":"35"},{"size":750,"mtime":1651259719953,"results":"61","hashOfConfig":"35"},{"size":135,"mtime":1646683392709,"results":"62","hashOfConfig":"35"},{"size":919,"mtime":1646939472825,"results":"63","hashOfConfig":"35"},{"size":4235,"mtime":1652212257525,"results":"64","hashOfConfig":"35"},{"size":635,"mtime":1651259453154,"results":"65","hashOfConfig":"35"},{"size":448,"mtime":1652534632767,"results":"66","hashOfConfig":"35"},{"size":406,"mtime":1650571882176,"results":"67","hashOfConfig":"35"},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},"1v2bgb4",{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":1,"source":"78"},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":3,"source":null},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"71"},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":3,"source":null},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"71"},{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"118","messages":"119","suppressedMessages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"121","messages":"122","suppressedMessages":"123","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"124","usedDeprecatedRules":"71"},{"filePath":"125","messages":"126","suppressedMessages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","suppressedMessages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","suppressedMessages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"134","messages":"135","suppressedMessages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"140","messages":"141","suppressedMessages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"143"},{"filePath":"144","messages":"145","suppressedMessages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"143"},{"filePath":"147","messages":"148","suppressedMessages":"149","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"150","usedDeprecatedRules":"88"},{"filePath":"151","messages":"152","suppressedMessages":"153","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","suppressedMessages":"156","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"157","messages":"158","suppressedMessages":"159","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"160","messages":"161","suppressedMessages":"162","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"163"},{"filePath":"164","messages":"165","suppressedMessages":"166","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"167","messages":"168","suppressedMessages":"169","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"170","messages":"171","suppressedMessages":"172","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"173","messages":"174","suppressedMessages":"175","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/rezanceva96/movies-explorer-frontend/src/index.js",[],[],["176","177"],"/Users/rezanceva96/movies-explorer-frontend/src/reportWebVitals.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/App/App.js",["178","179","180","181","182","183","184","185","186","187"],[],"import React, { useEffect } from 'react';\nimport { Routes, Route, Navigate, useNavigate, useLocation } from \"react-router-dom\";\nimport Movies from '../Movies/Movies.js';\nimport HeaderPopup from '../HeaderPopup/HeaderPopup.js';\nimport SavedMovies from '../SavedMovies/SavedMovies.js';\nimport NotFound from '../NotFound/NotFound.js';\nimport Profile from '../Profile/Profile.js';\nimport Login from '../Login/Login.js';\nimport Register from '../Register/Register.js';\nimport Main from '../Main/Main.js';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js';\nimport { mainApi } from '../../utils/MainApi.js';\nimport moviesApi from \"../../utils/MoviesApi.js\";\nimport notRegister from \"../../images/negativ-result.svg\";\nimport register from \"../../images/positiv_result.svg\";\nimport InfoTooLtip from '../InfoTooLtip/InfoTooltip.js';\nimport Header from '../Header/Header.js';\nimport Navigation from '../Navigation/Navigation.js';\nimport SigninButton from '../SigninButton/SigninButton.js';\nimport ScreenSize from '../../hooks/ScreenSize.js';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute.js';\n\nfunction App() {\n  const routes = useLocation();\n\n  const isHeader =\n    routes.pathname === '/movies' ||\n    routes.pathname === '/' ||\n    routes.pathname === '/saved-movies' ||\n    routes.pathname === '/profile';\n\n\n  // стейт, отвечающий за данные текущего пользвателя, сюда сохраняются данные о пользователе\n  const [currentUser, setCurrentUser] = React.useState({});\n  // стэйт переменная открыти попапа\n  const [isPopupOpen, setIsPopupOpen] = React.useState(false);\n\n  // стэйт переменные регистрации и авторизации\n  const [isLoggedIn, setIsLoggedIn] = React.useState(!!localStorage.getItem('isLoggedIn'));\n  const [isUserCheck, setIsUserCheck] = React.useState(false);\n\n  const [registerError, setRegisterError] = React.useState(\"\");\n  const [loginError, setLoginError] = React.useState(\"\");\n  const [changeError, setChangeError] = React.useState(\"\");\n\n  // переменные состояния для попапов результата регистрации (не реализовано, оставлено напоследок)\n  const [image, setImage] = React.useState(\"\");\n  const [title, setTitle] = React.useState(\"\");\n  const [isInfoTooLtip, setIsInfoTooLtip] = React.useState(false);\n\n  // переменная состояния для сохраненных фильмов в избранном\n  const [favoriteList, setFavoriteList] = React.useState([]);\n  const [favoriteListForRender, setFavoriteListForRender] = React.useState([]);\n  const [shortList, setShortList] = React.useState([]);\n\n  const [moviesList, setMoviesList] = React.useState([]);\n  // переменные состояния для добавления фильмов\n  const [moviesCount, setMoviesCount] = React.useState(0);\n  const [addMovies, setAddMovies] = React.useState(0);\n\n  const navigate = useNavigate();\n\n  // ширина\n  const width = ScreenSize();\n\n  // отображение прейлодера\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  // открытие попапов\n  function onHeaderOpen() {\n    setIsPopupOpen(true)\n  }\n\n  // закрытие попапов\n  function closeAllPopups() {\n    setIsPopupOpen(false);\n    setIsInfoTooLtip(false);\n  }\n  // для результата авторизации и регистрации и изменения пользователя\n  function handleInfoTooLtip() {\n    setIsInfoTooLtip(true);\n  }\n\n  // добавление карточек в зависимости от ширины экрана\n  useEffect(() => {\n    function getCards() {\n      if (width >= 1280) {\n        setMoviesCount(12);\n        setAddMovies(3);\n      } else if (width < 1279 && width >= 767) {\n        setMoviesCount(8);\n        setAddMovies(2);\n      } else if (width <= 766) {\n        setMoviesCount(5);\n        setAddMovies(1);\n      }\n    }\n    getCards()\n  }, [width])\n\n  console.log(isLoggedIn)\n\n\n  useEffect(() => {\n    setIsLoading(true);\n    // рендер первоначальной коллекции фильмов\n    moviesApi.getInitialCards()\n      .then((movies) => {\n        setMoviesList(movies);\n        sessionStorage.setItem('movies', JSON.stringify(movies));\n        setIsLoading(false);\n      }).catch((err) => {\n        console.log(`Внимание! ${err}`);\n      });\n\n \n    // рендер сохраненных фильмов\n    if (localStorage.getItem('savedMovies')) {\n      setFavoriteList(JSON.parse(localStorage.getItem('savedMovies')));\n      setFavoriteListForRender(JSON.parse(localStorage.getItem('savedMovies')));\n    } else {\n      setFavoriteList([]);\n      setFavoriteListForRender([]);\n    }\n\n  }, [])\n\n\n\n  //console.log(favoriteList)\n\n\n  // сохранение фильма\n  function handleSaveMovies(movie) {\n    const jwt = localStorage.getItem(\"jwt\");\n    console.log(movie)\n    setFavoriteList([...favoriteList, movie]);\n    mainApi.savedMovies({ jwt, movie })\n      .then((res) => {\n        console.log(res)\n        console.log(favoriteList)\n        setFavoriteList([...favoriteList, res]);\n        localStorage.setItem('savedMovies', JSON.stringify([...favoriteList, res]));\n      })\n      .catch((err) => {\n        console.log(`Внимание! ${err}`);\n      })\n  }\n\n\n  // удаление фильма\n  function handleDeleteMovies(movie) {\n    const jwt = localStorage.getItem(\"jwt\");\n    const id = movie.movieId || movie.id;\n    const movieId =\n      movie._id || favoriteList.find((item) => item.movieId === movie.id)._id;\n    mainApi.deleteMovies({ jwt, movieId }).\n      then((res) => {\n        console.log(res);\n        if (res) {\n          const arr = JSON.parse(localStorage.getItem('savedMovies')).filter((item) => item.movieId !== id);\n          setFavoriteList(arr)\n          setFavoriteListForRender(arr);\n          localStorage.setItem('savedMovies', JSON.stringify(arr));\n        }\n      })\n      .catch((err) => {\n        console.log(`Внимание! ${err}`);\n      })\n  }\n\n\n  // изменение инорфмации о пользователе\n  function handleUpdateUser({ name, email }) {\n    const jwt = localStorage.getItem(\"jwt\");\n    mainApi.updateUser({ jwt, name, email })\n      .then((user) => {\n        setTitle(\"Данные успешно изменены!\");\n        setImage(register);\n        if (user._id) {\n          setCurrentUser(user);\n        }\n      }).catch((err) => {\n        console.log(`Внимание! ${err}`);\n        setTitle(\"Что-то пошло не так! Попробуйте ещё раз.\");\n        setImage(notRegister);\n      }).finally(handleInfoTooLtip)\n  }\n\n\n  // проверка токенов авторизованных пользователей, вернувшихся в приложение\n  useEffect(() => {\n    console.log('useEffect в App отработал');\n    checkToken();\n  }, [navigate]);\n\n  function checkToken() {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      setIsLoggedIn(true);\n      mainApi.getUserInfo(jwt)\n        .then((profile) => {\n          setIsLoggedIn(true);\n          console.log(profile)\n          setCurrentUser(profile);\n          localStorage.setItem('currentUser', JSON.stringify(profile))\n          navigate(routes.pathname);\n        })\n        .catch((err) => {\n          navigate('/signin');\n          console.log(`Внимание! ${err}`);\n        })\n    }\n  }\n\n\n  // регистрация\n  function onRegister({ email, password, name }) {\n    mainApi.register({ email, password, name })\n      .then((data) => {\n        onLogin({ email, password });\n        navigate('/movies');\n        setTitle(\"Вы успешно зарегистрировались!\");\n        setImage(register);\n        setIsLoggedIn(true);\n      }).catch((err) => {\n        console.log(`Внимание! ${err}`);\n        setTitle(\"Что-то пошло не так! Попробуйте ещё раз.\");\n        setImage(notRegister);\n        if (err === 400) return setRegisterError('Некорректно заполнено одно из полей');\n        setRegisterError('Что-то пошло не так, попробуйте еще раз!')\n      }).finally(handleInfoTooLtip)\n  }\n\n\n\n  // авторизация\n  function onLogin({ email, password }) {\n    mainApi.login({ email, password })\n      .then((res) => {\n        navigate('/movies');\n     //   setData();\n        localStorage.setItem(\"jwt\", res.token);\n        localStorage.setItem('currentUser', JSON.stringify(res));\n        // console.log(res.token);\n        localStorage.setItem('isLoggedIn', true)\n        setIsLoggedIn(true);\n        return res;\n      })\n      .catch((err) => {\n        console.log(`Внимание! ${err}`);\n        setLoginError('Что-то пошло не так, попробуйте еще раз!');\n        if (err === 400) return setRegisterError('Некорректно заполнено одно из полей');\n        setTitle(\"Что-то пошло не так! Попробуйте ещё раз.\");\n        setImage(notRegister);\n        handleInfoTooLtip()\n      })\n  }\n\n \n useEffect(() => {\n   if (isLoading) {\n    setData();\n   }\n\n }, [isLoggedIn])\n\n\n  function setData() {\n   // setIsLoading(true);\n    const jwt = localStorage.getItem(\"jwt\");\n    const profileInfo = mainApi.getUserInfo(jwt);\n    const movies = moviesApi.getInitialCards();\n    const favoriteMovies = mainApi.getMovies(jwt);\n    console.log('setdata отработал')\n    Promise.all([profileInfo, movies, mainApi.getMovies(jwt)])\n      .then((res) => {\n        console.log('промис отработал')\n        console.log(res.data)\n        setCurrentUser(res[0].data);\n        setMoviesList(res[1].data);\n        \n        const isLiked = res.data.filter((movie) => movie.owner === currentUser._id);\n  \n        setFavoriteList(isLiked);\n        setFavoriteListForRender(isLiked);\n        \n        \n        localStorage.setItem('currentUser', JSON.stringify(res[0].data));\n        localStorage.setItem('movies', JSON.stringify(res[1].data));\n        localStorage.setItem('savedMovies', JSON.stringify(isLiked));\n      //  setIsLoading(false);\n      }).catch((err) => {\n        console.log(`Внимание! ${err}`);\n      })\n  };\n\n  console.log(favoriteList)\n\n  // удаление токена при выходе\n  function signOut() {\n    console.log('signOut в App отработал')\n    localStorage.clear();\n    navigate(\"/\");\n    //setFavoriteList([]);\n    //  setMoviesList([]);\n    setCurrentUser([]);\n    setIsLoggedIn(false);\n  }\n\n//  console.log(currentUser)\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        {isHeader && <Header>\n          {isLoggedIn ? <Navigation onHeaderOpen={onHeaderOpen} /> : <SigninButton />}\n        </Header>}\n\n        {<Routes>\n          <Route path='/movies' element={\n            <ProtectedRoute\n              isLoggedIn={isLoggedIn}\n              component={Movies}\n              onHeaderOpen={onHeaderOpen}\n              handleSaveMovies={handleSaveMovies}\n              handleDeleteMovies={handleDeleteMovies}\n              favoriteList={favoriteList}\n              moviesList={moviesList}\n              setMoviesList={setMoviesList}\n              moviesCount={moviesCount}\n              setMoviesCount={setMoviesCount}\n              addMovies={addMovies}\n              setAddMovies={setAddMovies}\n              isLoading={isLoading}\n              setIsLoading={setIsLoading}\n            ></ProtectedRoute>\n          } ></Route>\n          <Route path=\"/\" element={\n\n            <Main />\n\n          } />\n          <Route path=\"/saved-movies\" element={\n\n            <ProtectedRoute\n              component={SavedMovies}\n              isLoggedIn={isLoggedIn}\n              onHeaderOpen={onHeaderOpen}\n              favoriteList={favoriteList}\n              setFavoriteList={setFavoriteList}\n              favoriteListForRender={favoriteListForRender}\n              setFavoriteListForRender={setFavoriteListForRender}\n              shortList={shortList}\n              setShortList={setShortList}\n              handleDeleteMovies={handleDeleteMovies}\n              handleSaveMovies={handleSaveMovies}\n              moviesList={moviesList}\n              setMoviesList={setMoviesList}\n              moviesCount={moviesCount}\n              setMoviesCount={setMoviesCount}\n              addMovies={addMovies}\n              setAddMovies={setAddMovies}\n              isLoading={isLoading}\n              setIsLoading={setIsLoading}\n              isLoading={isLoading}\n              setIsLoading={setIsLoading}\n            >\n            </ProtectedRoute>\n\n          } />\n          <Route path=\"/profile\" element={\n\n            <ProtectedRoute\n              component={Profile}\n              isLoggedIn={isLoggedIn}\n              signOut={signOut}\n              onUpdateUser={handleUpdateUser}\n              changeError={changeError}\n            >\n            </ProtectedRoute>\n\n          } />\n          <Route path=\"/signin\"\n            element={<ProtectedRoute\n              component={Login}\n              isLoggedIn={!isLoggedIn}\n              onLogin={onLogin}\n              loginError={loginError}\n            ></ProtectedRoute>} />\n          <Route path=\"/signup\" element={\n            <ProtectedRoute\n              component={Register}\n              isLoggedIn={!isLoggedIn}\n              onRegister={onRegister}\n              registerError={registerError}\n              setRegisterError={setRegisterError}>\n            </ProtectedRoute>\n          } />\n          <Route path=\"*\" element={\n            <NotFound />\n          } />\n        </Routes>}\n\n        <HeaderPopup isOpen={isPopupOpen}\n          onClose={closeAllPopups}\n        />\n        <InfoTooLtip\n          image={image}\n          title={title}\n          onClose={closeAllPopups}\n          isOpen={isInfoTooLtip}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n\n\n/*\n1. После выхода из приложение стейт в апп показывает фалс, но в продект роут прокидывается тру\n2. После авторизации в приложении первоначальный рендер коллекции карточек выдает ошибку, после обновления все начинает работать\n3. В профайл приходит информация только после обновления (решено, но зациклена переадресация)\n3. Как сделать так, чтобы за конкретным пользователем закреплялись конкретнные сохраненные фильмы\n4. После обновления страницы все слетает, лайки и сохраненные фильмы должны оставаться\n5. после входа попадаем на страницу главную, хотя направление стоит на фильмы\n\nосновные проблемы:\n1 циклический редирект\n2 стейт логина в продект роут идет тру, даже если в апп он фолс\n3 как за конкретным пользователем сохранить его фильмы, чтобы при новом заходе все оставалось\n*/\n\n\n\n","/Users/rezanceva96/movies-explorer-frontend/src/components/Header/Header.js",["188","189","190"],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/Footer/Footer.js",["191","192","193"],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/Promo/Promo.js",[],[],["194","195"],"/Users/rezanceva96/movies-explorer-frontend/src/components/NavTab/NavTab.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/AboutProject/AboutProject.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/Techs/Techs.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/AboutMe/AboutMe.js",["196"],[],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport photo from \"../../images/aboutme_photo.jpeg\";\nimport MainTitle from \"../MainTitle/MainTitle\";\n\nfunction AboutMe(props) {\n\n    return (\n        <article className=\"aboutMe\" id=\"aboutme\">\n            <MainTitle title=\"Студент\" />\n            <article className=\"aboutMe__container\">\n                <div className=\"aboutMe__info\">\n                    <h2 className=\"aboutMe__name\">\n                        Яна\n                    </h2>\n                    <p className=\"aboutMe__profesion\">\n                        Фронтенд-разработчик, 25 лет\n                    </p>\n                    <p className=\"aboutMe__text\">\n                        Я живу в Санкт-Петербурге, закончила Политехнический университет Петра Великого кафедру атомной и тепловой энергетики.\n                        На данный момент работаю по специальности, но  после окончания курса от Яндекс.Практикум есть амбиции сменить специальность на профессию Фронтенд-разработчика.\n                    </p>\n                    <div className=\"aboutMe__social\">\n                        <a className=\"aboutMe__link\" href=\"https://t.me/yaninoyy\" target=\"_blank\" rel=\"noreferrer\">Telegram</a>\n                        <a className=\"aboutMe__link\" href=\"https://github.com/RezantsevaYana\" target=\"_blank\" rel=\"noreferrer\">Github</a>\n                    </div>\n                </div>\n                <img className=\"aboutMe__photo\" src={photo} alt=\"фотография в портфолио\" />\n            </article>\n\n        </article>\n    );\n}\n\nexport default AboutMe;\n\n\n\n","/Users/rezanceva96/movies-explorer-frontend/src/components/Portfolio/Portfolio.js",["197","198","199"],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/SigninButton/SigninButton.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/Navigation/Navigation.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/Movies/Movies.js",["200"],[],"import React, { useEffect, useState } from \"react\";\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\nimport SearchForm from \"../SearchForm/SearchForm\";\nimport Footer from \"../Footer/Footer\";\nimport { useLocation } from 'react-router';\n\nfunction Movies({ onHeaderOpen,\n    handleSaveMovies,\n    handleDeleteMovies,\n    moviesList,\n    setMoviesList,\n    favoriteList,\n    moviesCount,\n    setMoviesCount,\n    addMovies,\n    setAddMovies,\n    isLoading,\n    setIsLoading }) {\n    const routes = useLocation();\n\n    const [message, setMessage] = React.useState('')\n\n    const valueData = localStorage.getItem('value');\n    const [value, setValue] = React.useState(valueData && routes.pathname === '/movies' ? valueData : '');\n\n    // стейт-переменная состояния тумблера\n    const checkBoxStatus = JSON.parse(localStorage.getItem('checkBoxStatus'));\n\n    const [checked, setChecked] = useState(false);\n    const [shortList, setShortList] = useState([]);\n\n \n    // фильтрация массива через поиск по ключевому слову\n    useEffect(() => {\n        const filterMovies = JSON.parse(sessionStorage.getItem('movies')).filter((movie) =>\n            movie.nameRU.toLowerCase().indexOf(value.toLowerCase()) > -1)\n        if (filterMovies.length) {\n            setMoviesList(filterMovies);\n            localStorage.setItem('foundMovies', JSON.stringify(filterMovies));\n        } else {\n            setMoviesList([]);\n            setMessage('Ничего не найдено');\n        }\n    }, [value])\n\n\n    function handleSubmitSearchForm(value) {\n        setValue(value);\n    }\n\n\n    // фильтрация массива через установку тумблера (продолжительность фильма)\n    useEffect(() => {\n        if (checkBoxStatus) {\n            const newShortList = JSON.parse(localStorage.getItem('foundMovies')).filter(movie => movie.duration <= 40)\n            setShortList(newShortList);\n            localStorage.setItem('foundMovies', JSON.stringify(newShortList));\n        } else {\n            setShortList([]);\n            setMessage('Ничего не найдено');\n        }\n    }, [checkBoxStatus])\n\n\n    function handleCheckboxChange(isCheckboxOn) {\n        setChecked(isCheckboxOn);\n    }\n\n\n    return (\n        <section className=\"movies\">\n            <SearchForm setMoviesCount={setMoviesCount}\n                setMoviesList={setMoviesList}\n                handleSubmitSearchForm={handleSubmitSearchForm}\n                handleCheckboxChange={handleCheckboxChange}\n                checkBoxStatus={checkBoxStatus}\n                checked={checked}\n                setChecked={setChecked}\n                isLoading={isLoading}\n                setIsLoading={setIsLoading}\n            >\n            </SearchForm>\n            <MoviesCardList\n                setMoviesCount={setMoviesCount}\n                moviesCount={moviesCount}\n                moviesList={checkBoxStatus ? shortList : moviesList}\n                handleSaveMovies={handleSaveMovies}\n                handleDeleteMovies={handleDeleteMovies}\n                favoriteList={favoriteList}\n                addMovies={addMovies}\n                setAddMovies={setAddMovies}\n                message={message}\n                isLoading={isLoading}\n                setIsLoading={setIsLoading}\n            />\n            <Footer></Footer>\n        </section>\n\n\n    );\n}\n\nexport default Movies;\n","/Users/rezanceva96/movies-explorer-frontend/src/components/SearchForm/SearchForm.js",["201","202"],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/MoviesCardList/MoviesCardList.js",["203","204"],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/MoviesCard/MoviesCard.js",["205","206"],[],"import React, { useState } from \"react\";\nimport { Navlink, useLocation } from \"react-router-dom\";\n\nfunction MoviesCard({ movie, handleSaveMovies, handleDeleteMovies, favoriteList, favoriteListForRender, setFavoriteListForRender }) {\n    const [isSavedMovies, setIsSavedMovies] = useState(false);\n    const routes = useLocation();\n\n\n    function isSave() {\n        return favoriteList.some((item) => item.movieId === movie.id);\n    }\n\n\n    const cardSaveButtonClassName = `movies-card__button movies-card__button_save ${isSave() ? \"movies-card__button_save_active\" : \" \"\n        }`;\n\n    function onSaveMovies() {\n        setIsSavedMovies(isSavedMovies === false ? true : false);\n        handleSaveMovies(movie);\n    }\n\n    function onDeleteMovies() {\n        setIsSavedMovies(isSavedMovies === false ? true : false);\n        handleDeleteMovies(movie);\n    }\n\n\n    function calculateTime() {\n        return `${Math.floor(movie.duration / 60)}ч ${movie.duration % 60}м`;\n    };\n\n    const image = movie.image.url === undefined ? movie.image : `https://api.nomoreparties.co${movie.image.url}`\n   \n    const trailer = movie.trailer === undefined ? movie.trailerLink : movie.trailer;\n\n    return (\n        <figure className=\"movies-card\">\n            <figcaption className=\"movies-card__caption\">\n                <div className=\"movies-card__text\">\n                    <p className=\"movies-card__title\">{movie.nameRU}</p>\n                    <p className=\"movies-card__length\">{calculateTime()}</p>\n                </div>\n                {\n                    routes.pathname === '/movies' ? (\n                        <button className={cardSaveButtonClassName} type=\"button\" onClick={isSave() ? onDeleteMovies : onSaveMovies} >\n                        </button>\n                    ) :\n                        (\n                            <button className=\"movies-card__button movies-card__button_delete\" type=\"button\" onClick={onDeleteMovies}>\n                            </button>\n                        )\n                }\n            </figcaption>\n            <a className=\"movies-card__link\" href={trailer} target=\"_blank\">\n                <img className=\"movies-card__img\" src={image} alt={movie.nameRu} />\n            </a>\n        </figure>\n    );\n}\n\nexport default MoviesCard;","/Users/rezanceva96/movies-explorer-frontend/src/components/HeaderPopup/HeaderPopup.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/Preloader/Preloader.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/SavedMovies/SavedMovies.js",["207","208","209"],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/NotFound/NotFound.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/Profile/Profile.js",["210","211"],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/Login/Login.js",[],[],["212","213"],"/Users/rezanceva96/movies-explorer-frontend/src/components/Register/Register.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/Main/Main.js",["214","215"],[],"import React from \"react\";\nimport Promo from \"../Promo/Promo\";\nimport AboutProject from \"../AboutProject/AboutProject\";\nimport Techs from \"../Techs/Techs\";\nimport AboutMe from \"../AboutMe/AboutMe\";\nimport Portfolio from \"../Portfolio/Portfolio\";\nimport Header from \"../Header/Header\";\nimport Footer from \"../Footer/Footer\";\nimport SigninButton from \"../SigninButton/SigninButton\";\n\nfunction Main() {\n    return (\n        <>\n            <Promo></Promo>\n            <AboutProject></AboutProject>\n            <Techs></Techs>\n            <AboutMe></AboutMe>\n            <Portfolio></Portfolio>\n            <Footer></Footer>\n        </>\n    );\n}\n\nexport default Main;\n","/Users/rezanceva96/movies-explorer-frontend/src/components/MainTitle/MainTitle.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/utils/MoviesApi.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/contexts/CurrentUserContext.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/utils/formValidation.js",[],[],["216","217"],"/Users/rezanceva96/movies-explorer-frontend/src/utils/MainApi.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/InfoTooLtip/InfoTooltip.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/components/ProtectedRoute/ProtectedRoute.js",[],[],"/Users/rezanceva96/movies-explorer-frontend/src/hooks/ScreenSize.js",[],[],{"ruleId":"218","replacedBy":"219"},{"ruleId":"220","replacedBy":"221"},{"ruleId":"222","severity":1,"message":"223","line":2,"column":25,"nodeType":"224","messageId":"225","endLine":2,"endColumn":33},{"ruleId":"222","severity":1,"message":"226","line":40,"column":10,"nodeType":"224","messageId":"225","endLine":40,"endColumn":21},{"ruleId":"222","severity":1,"message":"227","line":40,"column":23,"nodeType":"224","messageId":"225","endLine":40,"endColumn":37},{"ruleId":"222","severity":1,"message":"228","line":44,"column":23,"nodeType":"224","messageId":"225","endLine":44,"endColumn":37},{"ruleId":"229","severity":1,"message":"230","line":157,"column":43,"nodeType":"231","messageId":"232","endLine":157,"endColumn":44,"fix":"233"},{"ruleId":"234","severity":1,"message":"235","line":195,"column":6,"nodeType":"236","endLine":195,"endColumn":16,"suggestions":"237"},{"ruleId":"234","severity":1,"message":"238","line":266,"column":5,"nodeType":"236","endLine":266,"endColumn":17,"suggestions":"239"},{"ruleId":"222","severity":1,"message":"240","line":274,"column":11,"nodeType":"224","messageId":"225","endLine":274,"endColumn":25},{"ruleId":"241","severity":1,"message":"242","line":366,"column":15,"nodeType":"243","messageId":"244","endLine":366,"endColumn":36},{"ruleId":"241","severity":1,"message":"242","line":367,"column":15,"nodeType":"243","messageId":"244","endLine":367,"endColumn":42},{"ruleId":"222","severity":1,"message":"245","line":1,"column":17,"nodeType":"224","messageId":"225","endLine":1,"endColumn":25},{"ruleId":"222","severity":1,"message":"246","line":2,"column":16,"nodeType":"224","messageId":"225","endLine":2,"endColumn":23},{"ruleId":"222","severity":1,"message":"247","line":2,"column":25,"nodeType":"224","messageId":"225","endLine":2,"endColumn":36},{"ruleId":"248","severity":1,"message":"249","line":11,"column":25,"nodeType":"250","messageId":"251","endLine":11,"endColumn":113,"fix":"252"},{"ruleId":"248","severity":1,"message":"249","line":14,"column":25,"nodeType":"250","messageId":"251","endLine":14,"endColumn":118,"fix":"253"},{"ruleId":"248","severity":1,"message":"249","line":17,"column":25,"nodeType":"250","messageId":"251","endLine":17,"endColumn":106,"fix":"254"},{"ruleId":"218","replacedBy":"255"},{"ruleId":"220","replacedBy":"256"},{"ruleId":"222","severity":1,"message":"257","line":2,"column":10,"nodeType":"224","messageId":"225","endLine":2,"endColumn":14},{"ruleId":"248","severity":1,"message":"249","line":11,"column":21,"nodeType":"250","messageId":"251","endLine":11,"endColumn":122,"fix":"258"},{"ruleId":"248","severity":1,"message":"249","line":14,"column":21,"nodeType":"250","messageId":"251","endLine":14,"endColumn":134,"fix":"259"},{"ruleId":"248","severity":1,"message":"249","line":17,"column":21,"nodeType":"250","messageId":"251","endLine":17,"endColumn":114,"fix":"260"},{"ruleId":"234","severity":1,"message":"261","line":44,"column":8,"nodeType":"236","endLine":44,"endColumn":15,"suggestions":"262"},{"ruleId":"222","severity":1,"message":"263","line":1,"column":17,"nodeType":"224","messageId":"225","endLine":1,"endColumn":26},{"ruleId":"222","severity":1,"message":"264","line":3,"column":8,"nodeType":"224","messageId":"225","endLine":3,"endColumn":17},{"ruleId":"222","severity":1,"message":"263","line":2,"column":17,"nodeType":"224","messageId":"225","endLine":2,"endColumn":26},{"ruleId":"222","severity":1,"message":"265","line":2,"column":28,"nodeType":"224","messageId":"225","endLine":2,"endColumn":36},{"ruleId":"222","severity":1,"message":"266","line":2,"column":10,"nodeType":"224","messageId":"225","endLine":2,"endColumn":17},{"ruleId":"248","severity":1,"message":"249","line":54,"column":13,"nodeType":"250","messageId":"251","endLine":54,"endColumn":77,"fix":"267"},{"ruleId":"222","severity":1,"message":"268","line":6,"column":10,"nodeType":"224","messageId":"225","endLine":6,"endColumn":28},{"ruleId":"234","severity":1,"message":"269","line":52,"column":8,"nodeType":"236","endLine":52,"endColumn":15,"suggestions":"270"},{"ruleId":"234","severity":1,"message":"271","line":72,"column":8,"nodeType":"236","endLine":72,"endColumn":17,"suggestions":"272"},{"ruleId":"222","severity":1,"message":"257","line":2,"column":10,"nodeType":"224","messageId":"225","endLine":2,"endColumn":14},{"ruleId":"222","severity":1,"message":"273","line":8,"column":74,"nodeType":"224","messageId":"225","endLine":8,"endColumn":84},{"ruleId":"218","replacedBy":"274"},{"ruleId":"220","replacedBy":"275"},{"ruleId":"222","severity":1,"message":"276","line":7,"column":8,"nodeType":"224","messageId":"225","endLine":7,"endColumn":14},{"ruleId":"222","severity":1,"message":"277","line":9,"column":8,"nodeType":"224","messageId":"225","endLine":9,"endColumn":20},{"ruleId":"218","replacedBy":"278"},{"ruleId":"220","replacedBy":"279"},"no-native-reassign",["280"],"no-negated-in-lhs",["281"],"no-unused-vars","'Navigate' is defined but never used.","Identifier","unusedVar","'isUserCheck' is assigned a value but never used.","'setIsUserCheck' is assigned a value but never used.","'setChangeError' is assigned a value but never used.","dot-location","Expected dot to be on same line as property.","MemberExpression","expectedDotBeforeProperty",{"range":"282","text":"283"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'checkToken'. Either include it or remove the dependency array.","ArrayExpression",["284"],"React Hook useEffect has missing dependencies: 'isLoading' and 'setData'. Either include them or remove the dependency array.",["285"],"'favoriteMovies' is assigned a value but never used.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","noDuplicateProps","'Children' is defined but never used.","'NavLink' is defined but never used.","'useLocation' is defined but never used.","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" (which implies rel=\"noopener\") is a security risk in older browsers: see https://mathiasbynens.github.io/rel-noopener/#recommendations","JSXOpeningElement","noTargetBlankWithoutNoreferrer",{"range":"286","text":"287"},{"range":"288","text":"287"},{"range":"289","text":"287"},["280"],["281"],"'Link' is defined but never used.",{"range":"290","text":"287"},{"range":"291","text":"287"},{"range":"292","text":"287"},"React Hook useEffect has a missing dependency: 'setMoviesList'. Either include it or remove the dependency array. If 'setMoviesList' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["293"],"'useEffect' is defined but never used.","'moviesApi' is defined but never used.","'useState' is defined but never used.","'Navlink' is defined but never used.",{"range":"294","text":"287"},"'CurrentUserContext' is defined but never used.","React Hook useEffect has missing dependencies: 'favoriteList' and 'setFavoriteListForRender'. Either include them or remove the dependency array. If 'setFavoriteListForRender' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["295"],"React Hook useEffect has missing dependencies: 'favoriteList.length' and 'setShortList'. Either include them or remove the dependency array. If 'setShortList' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["296"],"'setIsValid' is assigned a value but never used.",["280"],["281"],"'Header' is defined but never used.","'SigninButton' is defined but never used.",["280"],["281"],"no-global-assign","no-unsafe-negation",[5188,5196],"\n      .",{"desc":"297","fix":"298"},{"desc":"299","fix":"300"},[494,494]," rel=\"noreferrer\"",[683,683],[850,850],[418,418],[691,691],[944,944],{"desc":"301","fix":"302"},[2126,2126],{"desc":"303","fix":"304"},{"desc":"305","fix":"306"},"Update the dependencies array to be: [checkToken, navigate]",{"range":"307","text":"308"},"Update the dependencies array to be: [isLoading, isLoggedIn, setData]",{"range":"309","text":"310"},"Update the dependencies array to be: [setMoviesList, value]",{"range":"311","text":"312"},"Update the dependencies array to be: [favoriteList, setFavoriteListForRender, value]",{"range":"313","text":"314"},"Update the dependencies array to be: [checked, favoriteList.length, setShortList]",{"range":"315","text":"316"},[6315,6325],"[checkToken, navigate]",[8367,8379],"[isLoading, isLoggedIn, setData]",[1477,1484],"[setMoviesList, value]",[1576,1583],"[favoriteList, setFavoriteListForRender, value]",[2283,2292],"[checked, favoriteList.length, setShortList]"]