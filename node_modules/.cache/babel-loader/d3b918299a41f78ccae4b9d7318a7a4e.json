{"ast":null,"code":"// запросы к стороннему апи\nexport default class MoviesApi {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n\n    this._checkResult = res => {\n      if (res.ok) {\n        return res.json();\n      }\n\n      return Promise.reject(`Ошибка: ${res.status}`);\n    };\n\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  // запрос, который рендерит фильмы на основную страницу\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/beatfilm-movies`, {\n      headers: this._headers\n    }).then(this._checkResult);\n  } // проверка ответа\n\n\n}\nexport const moviesApi = new MoviesApi({\n  baseUrl: 'https://api.nomoreparties.co',\n  headers: {\n    authorization: '55468280-6bda-4917-a0aa-0d599bf33abe',\n    'Content-Type': 'application/json'\n  }\n});","map":{"version":3,"sources":["/Users/rezanceva96/movies-explorer-frontend/src/utils/MoviesApi.js"],"names":["MoviesApi","constructor","baseUrl","headers","_checkResult","res","ok","json","Promise","reject","status","_baseUrl","_headers","getInitialCards","fetch","then","moviesApi","authorization"],"mappings":"AAAA;AACA,eAAe,MAAMA,SAAN,CAAgB;AAC3BC,EAAAA,WAAW,OAAqB;AAAA,QAApB;AAACC,MAAAA,OAAD;AAAUC,MAAAA;AAAV,KAAoB;;AAAA,SAchCC,YAdgC,GAchBC,GAAD,IAAS;AACpB,UAAIA,GAAG,CAACC,EAAR,EAAY;AACR,eAAOD,GAAG,CAACE,IAAJ,EAAP;AACH;;AACD,aAAOC,OAAO,CAACC,MAAR,CAAgB,WAAUJ,GAAG,CAACK,MAAO,EAArC,CAAP;AACH,KAnB+B;;AAC5B,SAAKC,QAAL,GAAgBT,OAAhB;AACA,SAAKU,QAAL,GAAgBT,OAAhB;AACH;;AAED;AACAU,EAAAA,eAAe,GAAG;AACd,WAAOC,KAAK,CAAE,GAAE,KAAKH,QAAS,kBAAlB,EAAqC;AAC7CR,MAAAA,OAAO,EAAE,KAAKS;AAD+B,KAArC,CAAL,CAEFG,IAFE,CAEG,KAAKX,YAFR,CAAP;AAGH,GAX0B,CAc3B;;;AAd2B;AAyB/B,OAAO,MAAMY,SAAS,GAAG,IAAIhB,SAAJ,CAAc;AACnCE,EAAAA,OAAO,EAAE,8BAD0B;AAEnCC,EAAAA,OAAO,EAAE;AACLc,IAAAA,aAAa,EAAE,sCADV;AAEL,oBAAgB;AAFX;AAF0B,CAAd,CAAlB","sourcesContent":["// запросы к стороннему апи\nexport default class MoviesApi {\n    constructor({baseUrl, headers}) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    };\n\n    // запрос, который рендерит фильмы на основную страницу\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/beatfilm-movies`, {\n            headers: this._headers,})\n            .then(this._checkResult);\n    }\n\n\n    // проверка ответа\n    _checkResult = (res) => {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n}\n\n\nexport const moviesApi = new MoviesApi({\n    baseUrl: 'https://api.nomoreparties.co',\n    headers: {\n        authorization: '55468280-6bda-4917-a0aa-0d599bf33abe',\n        'Content-Type': 'application/json'\n    },\n});"]},"metadata":{},"sourceType":"module"}